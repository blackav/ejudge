#!/bin/bash
# $Id$
# Copyright (c) 2005-2008 Alexander Chernov <cher@ejudge.ru>

# A helper script to start C# programs using the mono runtime.
# Usage: runmono file

# EJUDGE_MONO_FLAGS may be used to pass additional flags
# security policy is not yet supported (mono does not support it)

runfile="$1"

SCRIPT_DIR="@ac_cv_lang_script_dir_expanded@"
EJUDGE_LANG_CONFIG="${SCRIPT_DIR}/lang-config.sh"

if [ -x "${EJUDGE_LANG_CONFIG}" ]
then
  . "${EJUDGE_LANG_CONFIG}"
else
  MONORUN="mono"
  MONODIR=""
fi

[ x"${MONODIR}" != x ] && PATH="${MONODIR}/bin:$PATH"

exec "${MONORUN}" ${EJUDGE_MONO_FLAGS} "${runfile}"

